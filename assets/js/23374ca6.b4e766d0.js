"use strict";(self.webpackChunkdocusaurus_docs=self.webpackChunkdocusaurus_docs||[]).push([[421],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>g});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=r.createContext({}),m=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=m(e.components);return r.createElement(s.Provider,{value:n},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=m(t),d=i,g=u["".concat(s,".").concat(d)]||u[d]||c[d]||a;return t?r.createElement(g,o(o({ref:n},p),{},{components:t})):r.createElement(g,o({ref:n},p))}));function g(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,o=new Array(a);o[0]=d;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[u]="string"==typeof e?e:i,o[1]=l;for(var m=2;m<a;m++)o[m]=t[m];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},6527:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>a,metadata:()=>l,toc:()=>m});var r=t(7462),i=(t(7294),t(3905));const a={},o=void 0,l={unversionedId:"README",id:"README",title:"README",description:"- Manuell installasjon",source:"@site/docs/README.md",sourceDirName:".",slug:"/",permalink:"/documents/docs/",draft:!1,editUrl:"https://github.com/mimir-org/documents/tree/main/docusaurus-docs/docs/README.md",tags:[],version:"current",frontMatter:{}},s={},m=[{value:"Typelibrary",id:"typelibrary",level:2},{value:"Mimir",id:"mimir",level:2},{value:"Component-library",id:"component-library",level:2},{value:"Manuell installasjon",id:"manuell-installasjon",level:2},{value:"Automatisk installasjon",id:"automatisk-installasjon",level:2},{value:"Mimir frontend og Yalc",id:"mimir-frontend-og-yalc",level:2},{value:"Compose fil for hele l\xf8sningen",id:"compose-fil-for-hele-l\xf8sningen",level:2},{value:"Compose fil for tyle",id:"compose-fil-for-tyle",level:2},{value:"Compose fil for mimir",id:"compose-fil-for-mimir",level:2},{value:"Lag en bruker",id:"lag-en-bruker",level:2},{value:"Jeg har hvit skjerm, hva gj\xf8r jeg?",id:"jeg-har-hvit-skjerm-hva-gj\xf8r-jeg",level:2},{value:"Jeg f\xe5r ikke registrert meg, hva skjer?",id:"jeg-f\xe5r-ikke-registrert-meg-hva-skjer",level:2}],p={toc:m},u="wrapper";function c(e){let{components:n,...t}=e;return(0,i.kt)(u,(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#manuell-installasjon"},"Manuell installasjon")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#automatisk-installasjon"},"Automatisk installasjon")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#compose-fil-for-tyle"},"Compose fil for tyle")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#compose-fil-for-mimir"},"Compose fil for mimir")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#lag-en-bruker"},"Lag en bruker")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#jeg-har-hvit-skjerm-hva-gj%C3%B8r-jeg"},"Jeg har hvit skjerm, hva gj\xf8r jeg?")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#jeg-f%C3%A5r-ikke-registrert-meg-hva-skjer"},"Jeg f\xe5r ikke registrert meg, hva skjer?"))),(0,i.kt)("p",null,'Tyle og mimir har et veldig stort og innviklet domene, det er ikke alltid s\xe5 lett \xe5 forst\xe5 seg p\xe5 s\xe5 det er ingen skam \xe5 sp\xf8rre etter hjelp. Dette er en minimalistisk nesten "installasjonsguide" til koden, den vil ikke g\xe5 s\xe5 veldig i dybden da dette er noe man m\xe5 ta ansikt til ansikt, men er ment som en slags, "Slig kj\xf8rer du koden forh\xe5pentligvis".'),(0,i.kt)("h1",{id:"vokabular"},"Vokabular"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"CLI - Command Line Interface"),(0,i.kt)("li",{parentName:"ul"},"repo - Github Repository (der koden ligger)"),(0,i.kt)("li",{parentName:"ul"},"env - Environment variable")),(0,i.kt)("h1",{id:"verkt\xf8y"},"Verkt\xf8y"),(0,i.kt)("p",null,"Teamet bruker de verkt\xf8yene de er mest komfortable med men her er eksempel p\xe5 verkt\xf8y:\nFrontend kode:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"VSCode"),(0,i.kt)("li",{parentName:"ul"},"WebStorm\nBackend kode:"),(0,i.kt)("li",{parentName:"ul"},"Visual Studio + Resharper"),(0,i.kt)("li",{parentName:"ul"},"Rider (Resharper er innebygd)\nAndre verkt\xf8y:"),(0,i.kt)("li",{parentName:"ul"},"Git"),(0,i.kt)("li",{parentName:"ul"},"Docker"),(0,i.kt)("li",{parentName:"ul"},"Datagrip (databaseh\xe5ndtering)"),(0,i.kt)("li",{parentName:"ul"},"SQL Server Management studio")),(0,i.kt)("p",null,"Av disse s\xe5 ",(0,i.kt)("strong",{parentName:"p"},"M\xe5")," du installere docker eller tilsvarende for \xe5 kunne kj\xf8re mssql databasen."),(0,i.kt)("p",null,"Videre s\xe5 m\xe5 du logge deg inn i Equinor systemet for \xe5 anskaffe deg en docker lisens, dette kan du gj\xf8re p\xe5 ",(0,i.kt)("a",{parentName:"p",href:"https://connectit.equinor.com/"},"https://connectit.equinor.com/"),", s\xe5 g\xe5r du inn i en nettleser gjennom connectit og g\xe5r til ",(0,i.kt)("a",{parentName:"p",href:"https://accessit.equinor.com."},"https://accessit.equinor.com.")," Du m\xe5 ogs\xe5 be om access til outlook og din egen epost for \xe5 f\xe5 til dette + utviklerkurset som du m\xe5 ta en gang i \xe5ret."),(0,i.kt)("h1",{id:"hvor-finner-jeg-koden"},"Hvor finner jeg koden?"),(0,i.kt)("p",null,"Koden til mimir kan man finne her ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/mimir-org"},"https://github.com/mimir-org")," under mimir repoet. Prosjektet kan klones til din maskin med ",(0,i.kt)("inlineCode",{parentName:"p"},"git@github.com:mimir-org/mimir.git")," via ssh eller ",(0,i.kt)("inlineCode",{parentName:"p"},"gh repo clone mimir-org/mimir")," med ",(0,i.kt)("a",{parentName:"p",href:"https://cli.github.com/"},"github CLI"),". "),(0,i.kt)("h2",{id:"typelibrary"},"Typelibrary"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"git clone git@github.com:mimir-org/typelibrary.git\n")),(0,i.kt)("h2",{id:"mimir"},"Mimir"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"git clone git@github.com:mimir-org/mimir.git\n")),(0,i.kt)("h2",{id:"component-library"},"Component-library"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"git clone git@github.com:mimir-org/component-library.git\n")),(0,i.kt)("h1",{id:"hvordan-installerer-jeg-koden-p\xe5-min-maskin"},"Hvordan installerer jeg koden p\xe5 min maskin?"),(0,i.kt)("p",null,"For at mimir skal fungere, s\xe5 er du n\xf8dt til \xe5 ha all koden p\xe5 din maskin, dette kan gj\xf8res p\xe5 flere forskjellige m\xe5ter."),(0,i.kt)("h2",{id:"manuell-installasjon"},"Manuell installasjon"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Start en mssql database som kj\xf8rer p\xe5 port 1433 lokalt p\xe5 din maskin ved hjelp av Docker (eller tilsvarende)."),(0,i.kt)("li",{parentName:"ol"},"Klon alle repoene under mimir-org (typelibrary, mimir og component-library) og kj\xf8r de ved hjelp av instruksene i ReadMe filene i de forskjellige repoene. Her kan det vere lurt \xe5 kj\xf8re de forskjellige prosjektene i denne rekkef\xf8lgen, i alle fall f\xf8rste gang.",(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"Tyle backend"),(0,i.kt)("li",{parentName:"ol"},"Tyle frontend"),(0,i.kt)("li",{parentName:"ol"},"Mimir backend"),(0,i.kt)("li",{parentName:"ol"},"Mimir frontend"))),(0,i.kt)("li",{parentName:"ol"},"Etter installasjon m\xe5 du legge til den f\xf8lgende env filen:",(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"./mimir/src/service/ModelBuilder.Api/appsettings.local.json"))))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "ApplicationSetting": {\n    "TypeLibraryRootUri": "http://localhost:5001/",\n    "TypeLibraryVersion": "v1",\n    "TypeLibrarySecret": "cedf6a1af9917f6ac2fd8f7a0f4610b418a72c4ac9557cf2256e4ec2226b2060",\n    "TypeLibraryDomain": "runir.net"\n  },\n  "Logging": {\n    "LogLevel": {\n      "Default": "Error",\n      "Microsoft": "Warning",\n      "Microsoft.Hosting.Lifetime": "Warning",\n      "Microsoft.EntityFrameworkCore.Database.Command": "Warning",\n      "Mb.Services": "Information",\n      "EventHubModule": "Error"\n    },\n    "Console": {\n      "IncludeScopes": true,\n      "LogLevel": {\n        "Default": "Error",\n        "Microsoft": "Warning",\n        "Microsoft.Hosting.Lifetime": "Warning",\n        "Microsoft.EntityFrameworkCore.Database.Command": "Warning",\n        "Mb.Services": "Information",\n        "EventHubModule": "Error"\n      }\n    }\n  },\n  "AllowedHosts": "*",\n  "AzureActiveDirectoryConfiguration": {\n    "Instance": "https://login.microsoftonline.com/",\n    "TenantId": "3aa4a235-b6e2-48d5-9195-7fcf05b459b0",\n    "ClientId": "2967244a-662f-4462-82bd-7f9bca0a3683",\n    "ClientSecret": null,\n    "CallbackPath": "/signin-oidc",\n    "SignedOutCallbackPath": "/signout-oidc",\n    "Silent": true\n  },\n  "CorsConfiguration": {\n    "ValidOrigins": "http://localhost:3000"\n  },\n  "DatabaseConfiguration": {\n    "DataSource": "127.0.0.1",\n    "Port": 1433,\n    "InitialCatalog": "ModelBuilder",\n    "DbUser": "sa",\n    "Password": "P4ssw0rd1",\n    "Timeout": 150,\n    "ConnectRetryCount": 15,\n    "ConnectRetryInterval": 10\n  }\n}\n')),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},"Der er andre .env filer i frontendkoden, men for det meste slipper du \xe5 bry deg om dette. Det mest interessante her er nok ",(0,i.kt)("strong",{parentName:"li"},"silent")," mode. Denne b\xf8r nok v\xe6re ",(0,i.kt)("em",{parentName:"li"},"true")," n\xe5r du driver med utvikling lokalt, da denne modusen ignorerer en del autentisering. L\xf8sningen vil nok mest sannsynlig kr\xe6sje uten, noe som f\xf8rer til hvit skjerm p\xe5 frontendsiden.")),(0,i.kt)("h2",{id:"automatisk-installasjon"},"Automatisk installasjon"),(0,i.kt)("p",null,"Spinn opp all koden med en docker-compose fil."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Installer ",(0,i.kt)("a",{parentName:"li",href:"https://www.docker.com/"},"docker")),(0,i.kt)("li",{parentName:"ol"},"Finn et sted \xe5 laste ned koden til slik at du f\xe5r denne mappestrukturen:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"\ud83d\udcc1 mimirorg (denne kan renames til det du vil)",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"\ud83d\udcc1 component-library",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"\ud83d\udcc1 etc"))),(0,i.kt)("li",{parentName:"ul"},"\ud83d\udcc1 mimir",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"\ud83d\udcc1 etc"))),(0,i.kt)("li",{parentName:"ul"},"\ud83d\udcc1 typelibrary",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"\ud83d\udcc1 etc"))))))),(0,i.kt)("li",{parentName:"ol"},"Lag en ny .yaml fil og lim inn f\xf8lgende kode.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"version: \"3.8\"\n\nservices:\n  \n   tyle-client:\n    build: ./typelibrary/src/client\n    hostname: 'tyleclient'\n    container_name: tyleclient\n    ports:\n      - \"3001:80\"\n    environment:\n      - TYPELIBRARY_ENV_API_BASE_URL=http://localhost:5001/v1.0/\n    networks:\n      - type_library_network\n      \n   mimir-client:\n    build:\n     context: ./mimir/src/client\n     args:\n      - MIMIR_VERSION=4.0.0\n    hostname: 'mimirclient'\n    container_name: mimirclient\n    ports:\n     - \"3000:80\"\n    environment:\n     - MIMIR_ENV_API_BASE_URL=http://localhost:5000/v1.0/\n     - MIMIR_ENV_SOCKET_BASE_URL=http://localhost:5000/     \n     - MIMIR_ENV_SILENT=true\n     - MIMIR_ENV_APP_ID=2967244a-662f-4462-82bd-7f9bca0a3683\n     - MIMIR_ENV_CLIENT_ID=0c174c7e-e018-41a2-ba84-3d4b4544a16f\n     - MIMIR_ENV_TENANT_ID=3aa4a235-b6e2-48d5-9195-7fcf05b459b0\n    networks:\n     - type_library_network\n\n   tyle-server:\n    build: ./typelibrary/src/server\n    hostname: 'tyleserver'\n    container_name: tyleserver\n    ports:\n      - \"5001:80\"\n    volumes:\n      - tyle:/app/Data\n    environment:\n      - ASPNETCORE_ENVIRONMENT=Development\n      - DatabaseConfiguration__DataSource=mssql\n      - DatabaseConfiguration__Port=1433\n      - DatabaseConfiguration__InitialCatalog=TypeLibrary\n      - DatabaseConfiguration__DbUser=sa\n      - DatabaseConfiguration__Password=P4ssw0rd1\n      - MimirorgAuthSettings__ApplicationName=Tyle\n      - MimirorgAuthSettings__ApplicationUrl=http://localhost:5001\n      - MimirorgAuthSettings__RequireConfirmedAccount=true\n      - MimirorgAuthSettings__Email=noreply@runir.net\n      - MimirorgAuthSettings__DatabaseConfiguration__DataSource=mssql\n      - MimirorgAuthSettings__DatabaseConfiguration__Port=1433\n      - MimirorgAuthSettings__DatabaseConfiguration__InitialCatalog=MimirorgAuthentication\n      - MimirorgAuthSettings__DatabaseConfiguration__DbUser=sa\n      - MimirorgAuthSettings__DatabaseConfiguration__Password=P4ssw0rd1\n      - ApplicationSettings__ApplicationSemanticUrl=http://localhost:5001/v1/ont\n      - ApplicationSettings__ApplicationUrl=http://localhost:5001\n      - CorsConfiguration__ValidOrigins=http://localhost:3001\n    networks:\n      - type_library_network\n    depends_on:\n      - mssql\n      \n   mimir-server:\n    build: ./mimir/src/service\n    hostname: 'mimirserver'\n    container_name: mimirserver\n    ports:\n      - \"5000:80\"\n    environment:\n      - ASPNETCORE_ENVIRONMENT=Development\n      - DatabaseConfiguration__DataSource=mssql\n      - DatabaseConfiguration__Port=1433\n      - DatabaseConfiguration__InitialCatalog=ModelBuilder\n      - DatabaseConfiguration__DbUser=sa\n      - DatabaseConfiguration__Password=P4ssw0rd1\n      - DatabaseConfiguration__Timeout=150\n      - DatabaseConfiguration__ConnectRetryCount=15\n      - DatabaseConfiguration__ConnectRetryInterval=10\n      - AzureActiveDirectoryConfiguration__TenantId=3aa4a235-b6e2-48d5-9195-7fcf05b459b0\n      - AzureActiveDirectoryConfiguration__ClientId=2967244a-662f-4462-82bd-7f9bca0a3683\n      - AzureActiveDirectoryConfiguration__Silent=true\n      - CorsConfiguration__ValidOrigins=http://localhost:3000\n      - ApplicationSetting__TypeLibraryRootUri=http://tyleserver/\n      - ApplicationSetting__TypeLibraryVersion=v1\n      - ApplicationSetting__TypeLibrarySecret=cedf6a1af9917f6ac2fd8f7a0f4610b418a72c4ac9557cf2256e4ec2226b2060\n      - ApplicationSetting__TypeLibraryDomain=runir.net\n    networks:\n      - type_library_network\n    depends_on:\n      - mssql\n\n   mssql:\n    image: \"mcr.microsoft.com/mssql/server:2017-CU8-ubuntu\"\n    hostname: 'mssql'\n    container_name: mssql\n    ports:\n      - '127.0.0.1:1433:1433'\n    volumes:\n      - mssql:/var/opt/mssql\n    environment:\n      - ACCEPT_EULA=Y\n      - MSSQL_SA_PASSWORD=P4ssw0rd1\n      - MSSQL_PID=Standard\n    networks:\n      - type_library_network\n    restart: unless-stopped\n\nvolumes:\n  mssql:\n    driver: local\n  tyle:\n    driver: local\n\nnetworks:\n  type_library_network:\n    driver: bridge\n")),(0,i.kt)("p",null,"\xa0\xa0\xa0\n4. Plasser denne yaml filen som vist under:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- \ud83d\udcc1 mimirorg (denne kan renames til det du vil)\n    - \ud83d\udc0b docker-compose.yaml\n    - \ud83d\udcc1 component-library\n        - \ud83d\udcc1 etc\n    - \ud83d\udcc1 mimir\n        - \ud83d\udcc1 etc\n    - \ud83d\udcc1 typelibrary\n        - \ud83d\udcc1 etc\n")),(0,i.kt)("ol",{start:6},(0,i.kt)("li",{parentName:"ol"},"Deretter kj\xf8rer du docker compose filen fra kommandolinjen.\n",(0,i.kt)("inlineCode",{parentName:"li"},"docker-compose up -d")," fra mappen der filen ligger."),(0,i.kt)("li",{parentName:"ol"},"N\xe5r alt er oppe \xe5 kj\xf8rer s\xe5 skal du f\xe5 opp de forskjellige sidene p\xe5:\nhttp://localhost:3000\nhttp://localhost:3001\nhttp://localhost:5000\nhttp://localhost:5001"),(0,i.kt)("li",{parentName:"ol"},"For \xe5 kj\xf8re desse lokalt s\xe5 er du n\xf8dt til \xe5 stoppe containeren som du har lyst til \xe5 kj\xf8re lokalt i eksempelvis Visual Studio.")),(0,i.kt)("h2",{id:"mimir-frontend-og-yalc"},"Mimir frontend og Yalc"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/wclr/yalc"},"https://github.com/wclr/yalc")),(0,i.kt)("p",null,"Yalc er en m\xe5te \xe5 koble npm pakkeutvikling sammen med dev milj\xf8. Det gj\xf8r det mulig for oss \xe5 utvikle komponenter i component-library og dynamisk oppdatere disse lokalt slik at man slipper \xe5 lansere en ny pakke p\xe5 npm for hver endring av kode."),(0,i.kt)("p",null,"installer yalc med\n",(0,i.kt)("inlineCode",{parentName:"p"},"npm i yalc -g")),(0,i.kt)("p",null,"Deretter er du klar til \xe5 bruke det."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Naviger til ",(0,i.kt)("inlineCode",{parentName:"li"},"component-library/app mappen")),(0,i.kt)("li",{parentName:"ul"},"Kj\xf8r kommandoen ",(0,i.kt)("inlineCode",{parentName:"li"},"yalc publish")),(0,i.kt)("li",{parentName:"ul"},"Naviger til ",(0,i.kt)("inlineCode",{parentName:"li"},"/mimirorg/mimir/src/client")),(0,i.kt)("li",{parentName:"ul"},"Kj\xf8r kommandoen ",(0,i.kt)("inlineCode",{parentName:"li"},"yalc add @mimirorg/component-library")),(0,i.kt)("li",{parentName:"ul"},"N\xe5 kan du kj\xf8re mimir som normalt ved \xe5 f\xf8rst installere pakkene ",(0,i.kt)("inlineCode",{parentName:"li"},"npm i")," for s\xe5 \xe5 kj\xf8re det lokalt med ",(0,i.kt)("inlineCode",{parentName:"li"},"npm run start")," eller ",(0,i.kt)("inlineCode",{parentName:"li"},"npm run"),". ")),(0,i.kt)("h1",{id:"docker-compose-filer"},"Docker compose filer"),(0,i.kt)("p",null,"Av og til er det nyttig \xe5 kj\xf8re tyle eller mimir separat for \xe5 slippe \xe5 ha flere Visual Studio instanser kj\xf8rende samtidig. Da kan disse filene vere nyttige \xe5 ha."),(0,i.kt)("h2",{id:"compose-fil-for-hele-l\xf8sningen"},"Compose fil for hele l\xf8sningen"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"version: \"3.8\"\n\nservices:\n  \n   tyle-client:\n    build: ./typelibrary/src/client\n    hostname: 'tyleclient'\n    container_name: tyleclient\n    ports:\n      - \"3001:80\"\n    environment:\n      - TYPELIBRARY_ENV_API_BASE_URL=http://localhost:5001/v1.0/\n    networks:\n      - type_library_network\n      \n   mimir-client:\n    build:\n     context: ./mimir/src/client\n     args:\n      - MIMIR_VERSION=4.0.0\n    hostname: 'mimirclient'\n    container_name: mimirclient\n    ports:\n     - \"3000:80\"\n    environment:\n     - MIMIR_ENV_API_BASE_URL=http://localhost:5000/v1.0/\n     - MIMIR_ENV_SOCKET_BASE_URL=http://localhost:5000/     \n     - MIMIR_ENV_SILENT=true\n     - MIMIR_ENV_APP_ID=2967244a-662f-4462-82bd-7f9bca0a3683\n     - MIMIR_ENV_CLIENT_ID=0c174c7e-e018-41a2-ba84-3d4b4544a16f\n     - MIMIR_ENV_TENANT_ID=3aa4a235-b6e2-48d5-9195-7fcf05b459b0\n    networks:\n     - type_library_network\n\n   tyle-server:\n    build: ./typelibrary/src/server\n    hostname: 'tyleserver'\n    container_name: tyleserver\n    ports:\n      - \"5001:80\"\n    volumes:\n      - tyle:/app/Data\n    environment:\n      - ASPNETCORE_ENVIRONMENT=Development\n      - DatabaseConfiguration__DataSource=mssql\n      - DatabaseConfiguration__Port=1433\n      - DatabaseConfiguration__InitialCatalog=TypeLibrary\n      - DatabaseConfiguration__DbUser=sa\n      - DatabaseConfiguration__Password=P4ssw0rd1\n      - MimirorgAuthSettings__ApplicationName=Tyle\n      - MimirorgAuthSettings__ApplicationUrl=http://localhost:5001\n      - MimirorgAuthSettings__RequireConfirmedAccount=true\n      - MimirorgAuthSettings__Email=noreply@runir.net\n      - MimirorgAuthSettings__DatabaseConfiguration__DataSource=mssql\n      - MimirorgAuthSettings__DatabaseConfiguration__Port=1433\n      - MimirorgAuthSettings__DatabaseConfiguration__InitialCatalog=MimirorgAuthentication\n      - MimirorgAuthSettings__DatabaseConfiguration__DbUser=sa\n      - MimirorgAuthSettings__DatabaseConfiguration__Password=P4ssw0rd1\n      - ApplicationSettings__ApplicationSemanticUrl=http://localhost:5001/v1/ont\n      - ApplicationSettings__ApplicationUrl=http://localhost:5001\n      - CorsConfiguration__ValidOrigins=http://localhost:3001\n    networks:\n      - type_library_network\n    depends_on:\n      - mssql\n      \n   mimir-server:\n    build: ./mimir/src/service\n    hostname: 'mimirserver'\n    container_name: mimirserver\n    ports:\n      - \"5000:80\"\n    environment:\n      - ASPNETCORE_ENVIRONMENT=Development\n      - DatabaseConfiguration__DataSource=mssql\n      - DatabaseConfiguration__Port=1433\n      - DatabaseConfiguration__InitialCatalog=ModelBuilder\n      - DatabaseConfiguration__DbUser=sa\n      - DatabaseConfiguration__Password=P4ssw0rd1\n      - DatabaseConfiguration__Timeout=150\n      - DatabaseConfiguration__ConnectRetryCount=15\n      - DatabaseConfiguration__ConnectRetryInterval=10\n      - AzureActiveDirectoryConfiguration__TenantId=3aa4a235-b6e2-48d5-9195-7fcf05b459b0\n      - AzureActiveDirectoryConfiguration__ClientId=2967244a-662f-4462-82bd-7f9bca0a3683\n      - AzureActiveDirectoryConfiguration__Silent=true\n      - CorsConfiguration__ValidOrigins=http://localhost:3000\n      - ApplicationSetting__TypeLibraryRootUri=http://tyleserver/\n      - ApplicationSetting__TypeLibraryVersion=v1\n      - ApplicationSetting__TypeLibrarySecret=cedf6a1af9917f6ac2fd8f7a0f4610b418a72c4ac9557cf2256e4ec2226b2060\n      - ApplicationSetting__TypeLibraryDomain=runir.net\n    networks:\n      - type_library_network\n    depends_on:\n      - mssql\n\n   mssql:\n    image: \"mcr.microsoft.com/mssql/server:2017-CU8-ubuntu\"\n    hostname: 'mssql'\n    container_name: mssql\n    ports:\n      - '127.0.0.1:1433:1433'\n    volumes:\n      - mssql:/var/opt/mssql\n    environment:\n      - ACCEPT_EULA=Y\n      - MSSQL_SA_PASSWORD=P4ssw0rd1\n      - MSSQL_PID=Standard\n    networks:\n      - type_library_network\n    restart: unless-stopped\n\nvolumes:\n  mssql:\n    driver: local\n  tyle:\n    driver: local\n\nnetworks:\n  type_library_network:\n    driver: bridge\n\n")),(0,i.kt)("h2",{id:"compose-fil-for-tyle"},"Compose fil for tyle"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"version: \"3.8\"\n\nservices:\n  \n   tyle-client:\n    build: ./typelibrary/src/client\n    hostname: 'tyleclient'\n    container_name: tyleclient\n    ports:\n      - \"3001:80\"\n    environment:\n      - TYPELIBRARY_ENV_API_BASE_URL=http://localhost:5001/v1.0/\n    networks:\n      - type_library_network\n      \n   tyle-server:\n    build: ./typelibrary/src/server\n    hostname: 'tyleserver'\n    container_name: tyleserver\n    ports:\n      - \"5001:80\"\n    volumes:\n      - tyle:/app/Data\n    environment:\n      - ASPNETCORE_ENVIRONMENT=Development\n      - DatabaseConfiguration__DataSource=mssql\n      - DatabaseConfiguration__Port=1433\n      - DatabaseConfiguration__InitialCatalog=TypeLibrary\n      - DatabaseConfiguration__DbUser=sa\n      - DatabaseConfiguration__Password=P4ssw0rd1\n      - MimirorgAuthSettings__ApplicationName=Tyle\n      - MimirorgAuthSettings__ApplicationUrl=http://localhost:5001\n      - MimirorgAuthSettings__RequireConfirmedAccount=true\n      - MimirorgAuthSettings__Email=noreply@runir.net\n      - MimirorgAuthSettings__DatabaseConfiguration__DataSource=mssql\n      - MimirorgAuthSettings__DatabaseConfiguration__Port=1433\n      - MimirorgAuthSettings__DatabaseConfiguration__InitialCatalog=MimirorgAuthentication\n      - MimirorgAuthSettings__DatabaseConfiguration__DbUser=sa\n      - MimirorgAuthSettings__DatabaseConfiguration__Password=P4ssw0rd1\n      - ApplicationSettings__ApplicationSemanticUrl=http://localhost:5001/v1/ont\n      - ApplicationSettings__ApplicationUrl=http://localhost:5001\n      - CorsConfiguration__ValidOrigins=http://localhost:3001\n    networks:\n      - type_library_network\n    depends_on:\n      - mssql\n      \n   mssql:\n    image: \"mcr.microsoft.com/mssql/server:2017-CU8-ubuntu\"\n    hostname: 'mssql'\n    container_name: mssql\n    ports:\n      - '127.0.0.1:1433:1433'\n    volumes:\n      - mssql:/var/opt/mssql\n    environment:\n      - ACCEPT_EULA=Y\n      - MSSQL_SA_PASSWORD=P4ssw0rd1\n      - MSSQL_PID=Standard\n    networks:\n      - type_library_network\n    restart: unless-stopped\n\nvolumes:\n  mssql:\n    driver: local\n  tyle:\n    driver: local\n\nnetworks:\n  type_library_network:\n    driver: bridge\n")),(0,i.kt)("h2",{id:"compose-fil-for-mimir"},"Compose fil for mimir"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"version: \"3.8\"\n\nservices:\n  \n   mimir-client:\n    build:\n     context: ./mimir/src/client\n     args:\n      - MIMIR_VERSION=4.0.0\n    hostname: 'mimirclient'\n    container_name: mimirclient\n    ports:\n     - \"3000:80\"\n    environment:\n     - MIMIR_ENV_API_BASE_URL=http://localhost:5000/v1.0/\n     - MIMIR_ENV_SOCKET_BASE_URL=http://localhost:5000/     \n     - MIMIR_ENV_SILENT=true\n     - MIMIR_ENV_APP_ID=2967244a-662f-4462-82bd-7f9bca0a3683\n     - MIMIR_ENV_CLIENT_ID=0c174c7e-e018-41a2-ba84-3d4b4544a16f\n     - MIMIR_ENV_TENANT_ID=3aa4a235-b6e2-48d5-9195-7fcf05b459b0\n    networks:\n     - type_library_network\n      \n   mimir-server:\n    build: ./mimir/src/service\n    hostname: 'mimirserver'\n    container_name: mimirserver\n    ports:\n      - \"5000:80\"\n    environment:\n      - ASPNETCORE_ENVIRONMENT=Development\n      - DatabaseConfiguration__DataSource=mssql\n      - DatabaseConfiguration__Port=1433\n      - DatabaseConfiguration__InitialCatalog=ModelBuilder\n      - DatabaseConfiguration__DbUser=sa\n      - DatabaseConfiguration__Password=P4ssw0rd1\n      - DatabaseConfiguration__Timeout=150\n      - DatabaseConfiguration__ConnectRetryCount=15\n      - DatabaseConfiguration__ConnectRetryInterval=10\n      - AzureActiveDirectoryConfiguration__TenantId=3aa4a235-b6e2-48d5-9195-7fcf05b459b0\n      - AzureActiveDirectoryConfiguration__ClientId=2967244a-662f-4462-82bd-7f9bca0a3683\n      - AzureActiveDirectoryConfiguration__Silent=true\n      - CorsConfiguration__ValidOrigins=http://localhost:3000\n      - ApplicationSetting__TypeLibraryRootUri=http://tyleserver/\n      - ApplicationSetting__TypeLibraryVersion=v1\n      - ApplicationSetting__TypeLibrarySecret=cedf6a1af9917f6ac2fd8f7a0f4610b418a72c4ac9557cf2256e4ec2226b2060\n      - ApplicationSetting__TypeLibraryDomain=runir.net\n    networks:\n      - type_library_network\n    depends_on:\n      - mssql\n      \n   mssql:\n    image: \"mcr.microsoft.com/mssql/server:2017-CU8-ubuntu\"\n    hostname: 'mssql'\n    container_name: mssql\n    ports:\n      - '127.0.0.1:1433:1433'\n    volumes:\n      - mssql:/var/opt/mssql\n    environment:\n      - ACCEPT_EULA=Y\n      - MSSQL_SA_PASSWORD=P4ssw0rd1\n      - MSSQL_PID=Standard\n    networks:\n      - type_library_network\n    restart: unless-stopped\n\nvolumes:\n  mssql:\n    driver: local\n\nnetworks:\n  type_library_network:\n    driver: bridge\n")),(0,i.kt)("h1",{id:"etter-installasjon"},"Etter installasjon"),(0,i.kt)("h2",{id:"lag-en-bruker"},"Lag en bruker"),(0,i.kt)("p",null,"Det f\xf8rste du m\xe5 gj\xf8re etter installasjon er \xe5 starte tyle backend, databasen og frontend. Deretter registrerer du en ny bruker gjennom frontenden. Etter registrering f\xe5r du beskjed om \xe5 vente p\xe5 en epost, denne kommer aldri, for den ligger her: ",(0,i.kt)("inlineCode",{parentName:"p"},"/mimirorg/typelibrary/src/server/TypeLibrary.Api/bin/Debug/net7.0/Data/Mail"),". Her kan det vere lurt \xe5 sortere etter sist endret slik at den siste eposten du mottok kommer p\xe5 toppen."),(0,i.kt)("p",null,"Deretter logger du inn. Siden der har skjedd noen endringer i tyle backenden i det siste s\xe5 er der noen steg du m\xe5 g\xe5 gjennom f\xf8r du f\xe5r en fullverdig bruker, disse er avhengig av hvor vi er i prosessen, s\xe5 her er det forel\xf8pig d\xe5rlig med dokumentasjon, forh\xe5pentligvis s\xe5 funker det uten noen problem. Problemet du kanskje st\xf8ter p\xe5 er at det ikke eksisterer noe selskap i backend koden din fra f\xf8r, s\xe5 her m\xe5 man koble seg p\xe5 databasen til l\xf8sningen og legge til denne informasjonen, da det ikke blir gjort automatisk lenger."),(0,i.kt)("p",null,"Skriv gjerne inn stegene du m\xe5 gjennom for \xe5 l\xf8se dette problemet n\xe5r/hvis det skjer."),(0,i.kt)("h1",{id:"faq"},"FAQ"),(0,i.kt)("h2",{id:"jeg-har-hvit-skjerm-hva-gj\xf8r-jeg"},"Jeg har hvit skjerm, hva gj\xf8r jeg?"),(0,i.kt)("p",null,"Dette er som oftest (les alltid), et resultat av feil env variabler ett eller annet sted. Sjekkliste:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Er frontend satt til ",(0,i.kt)("inlineCode",{parentName:"li"},"REACT_APP_SILENT = true")),(0,i.kt)("li",{parentName:"ul"},"Har brukeren din et company i databasen, er secret'en til dette company'et satt til secret i mimir sin ",(0,i.kt)("inlineCode",{parentName:"li"},"appsettings.json")," eks: ",(0,i.kt)("inlineCode",{parentName:"li"},'"TypelibrarySecret": "secretHash"'),".")),(0,i.kt)("h2",{id:"jeg-f\xe5r-ikke-registrert-meg-hva-skjer"},"Jeg f\xe5r ikke registrert meg, hva skjer?"),(0,i.kt)("p",null,"Om du ikke f\xe5r eposten s\xe5 er det fordi den ikke kommer n\xe5r du kj\xf8rer i dev, det samme gjelder account recovery koden.\nEposten som du skulle ha f\xe5tt ligger i:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/mimirorg/typelibrary/src/server/TypeLibrary.Api/bin/Debug/net7.0/Data/Mail/"))),(0,i.kt)("p",null,"Om det er andre problemer s\xe5 kommer det som oftest av:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"env variabler som ikke stemmer."),(0,i.kt)("li",{parentName:"ul"},"Man glemmer \xe5 kj\xf8re backenden til tyle.")))}c.isMDXComponent=!0}}]);