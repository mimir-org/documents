"use strict";(self.webpackChunkdocusaurus_docs=self.webpackChunkdocusaurus_docs||[]).push([[999],{3923:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var n=t(5893),r=t(1151);const s={sidebar_position:1,title:"Introduction"},o="Introduction",a={id:"Tyle/intro",title:"Introduction",description:"tyle logo",source:"@site/docs/Tyle/intro.md",sourceDirName:"Tyle",slug:"/Tyle/intro",permalink:"/documents/docs/Tyle/intro",draft:!1,unlisted:!1,editUrl:"https://github.com/mimir-org/documents/tree/main/docs/Tyle/intro.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Introduction"},sidebar:"tyleDocs",next:{title:"Current state of the code base",permalink:"/documents/docs/Tyle/current-state"}},d={},l=[{value:"Installing and running Tyle",id:"installing-and-running-tyle",level:2},{value:"Environment Variables",id:"environment-variables",level:3},{value:"General",id:"general",level:4},{value:"Authentication settings",id:"authentication-settings",level:4},{value:"Database settings",id:"database-settings",level:4},{value:"Reference Data Library settings",id:"reference-data-library-settings",level:4},{value:"Deploying Tyle",id:"deploying-tyle",level:2},{value:"License",id:"license",level:2}];function c(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",p:"p",...(0,r.a)(),...e.components},{Details:s}=i;return s||function(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"tyle logo",src:t(1961).Z+"",width:"110",height:"56"})}),"\n",(0,n.jsx)(i.h1,{id:"introduction",children:"Introduction"}),"\n",(0,n.jsx)(i.p,{children:"Tyle is currently not in active development. This documentation is primarily meant as a guide for potential new\ndevelopers to start active development again, and to inform about the current state of the code base, as well as future\nplans for development that the previous team had."}),"\n",(0,n.jsx)(i.h2,{id:"installing-and-running-tyle",children:"Installing and running Tyle"}),"\n",(0,n.jsxs)(i.p,{children:["The source code is available at ",(0,n.jsx)(i.a,{href:"https://github.com/mimir-org/tyle",children:"Github"}),". The project has a C# backend and a React\nfrontend. It also needs a SQL server to run, for instance ",(0,n.jsx)(i.a,{href:"https://www.microsoft.com/en-us/sql-server/",children:"MSSQL"}),"."]}),"\n",(0,n.jsx)(i.p,{children:"Note that Tyles current state do calls to external API (commonlib) on startup and periodically. This should be dissabled in a development enviroment to prevent redundant fetching unessential data and in possibly cast exceptions if not succeeded."}),"\n",(0,n.jsx)(i.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,n.jsxs)(s,{children:[(0,n.jsx)("summary",{children:"Client"}),(0,n.jsx)(i.p,{children:"To set environment variables for client in development, edit the .env file. For production build, you have to set the\nenvironment variables into the container itself. You can override the .env with a .env.local file. This file is not\nincluded in git repo. * is required."}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"VITE_API_BASE_URL"})," - Url to backend server"]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"VITE_TYLE_VERSION"})," - The version number of Tyle"]})]}),"\n",(0,n.jsxs)(s,{children:[(0,n.jsx)("summary",{children:"Server"}),(0,n.jsx)(i.p,{children:"To set environment variables for server in development, edit the appsettings.json file. For production build, you have\nto set the environment variables into the application container itself. You can override the appsettings.json with a\nappsettings.Development.json file. This file is not included in git repo. * is required."}),(0,n.jsx)(i.h4,{id:"general",children:"General"}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"ASPNETCORE_ENVIRONMENT"})," - Set .NET core environment"]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"CorsConfiguration__ValidOrigins"})," - Comma separated string of valid origins for CORS. E.g. ",(0,n.jsx)(i.a,{href:"http://localhost:3000,https://mimirorg.com",children:"http://localhost:3000,https://mimirorg.com"})]}),(0,n.jsx)(i.h4,{id:"authentication-settings",children:"Authentication settings"}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"MimirorgAuthSettings___ApplicationName"})," - The name of the auth application. Used for auth apps title."]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__JwtKey"})," - The secret used for generating jwt keys, 64 characters."]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__JwtIssuer"})," - The url for Jwt issuer."]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__JwtAudience"})," - The url for Jwt audience."]}),(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__RequireConfirmedAccount"})," - Is it required to confirm accout. Default true."]}),(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__JwtExpireMinutes"})," - The length of valid access token in minutes. Default 15."]}),(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__JwtRefreshExpireMinutes"})," - The length of valid refresh token in minutes. Default 1440."]}),(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__MaxFailedAccessAttempts"})," - The number of failed access attempts before locking account. Default 5."]}),(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__DefaultLockoutMinutes"})," - The length of lockout. Default 1440."]}),(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__RequireDigit"})," - Require digits in password. Default true."]}),(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__RequireUppercase"})," - Require uppercase in password. Default true."]}),(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__RequireNonAlphanumeric"})," - Require none alphanumeric in password. Default false."]}),(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__RequiredLength"})," - Require length of password. Default 10."]}),(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__EmailKey"})," - The sendgrid email key. Required if MimirorgAuthSettings__RequireConfirmedAccount."]}),(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__EmailSecret"})," - The sendgrid email secret. Required if MimirorgAuthSettings__RequireConfirmedAccount."]}),(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__QrWidth"})," - The width of the Qr Code. Default 300."]}),(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__QrHeight"})," - The height of the Qr Code. Default 300."]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__DatabaseConfiguration__DataSource"})," - Identifier for auth database server."]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__DatabaseConfiguration__Port"})," - Port of auth database server. E.g. 1443."]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__DatabaseConfiguration__InitialCatalog"})," - Auth database name."]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__DatabaseConfiguration__DbUser"})," - Server application auth database username, must be db owner on given catalog."]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"MimirorgAuthSettings__DatabaseConfiguration__Password"})," - Server application auth database password."]}),(0,n.jsx)(i.h4,{id:"database-settings",children:"Database settings"}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"DatabaseConfiguration__DataSource"})," - Identifier for database server"]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"DatabaseConfiguration__Port"})," - Port of database server. E.g. 1443"]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"DatabaseConfiguration__InitialCatalog"})," - Database name"]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"DatabaseConfiguration__DbUser"})," - Server application database username, must be db owner on given catalog"]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"DatabaseConfiguration__Password"})," - Server application database password"]}),(0,n.jsx)(i.h4,{id:"reference-data-library-settings",children:"Reference Data Library settings"}),(0,n.jsxs)(i.p,{children:["The following settings must be provided for the Azure App instance running the Tyle server for properly authenticating\nwith the downstream API used to fetch reference data. The current API used for this in Tyle is Common Library. See\n",(0,n.jsx)(i.a,{href:"https://learn.microsoft.com/en-us/entra/identity-platform/scenario-web-api-call-api-app-configuration?tabs=aspnetcore",children:"Configure a web API that calls web APIs"}),"\nfor more information."]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"AzureAd__Instance"})]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"AzureAd__ClientId"})]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"AzureAd__ClientSecret"})," - Should be stored in a key vault"]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"AzureAd__Domain"})]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"AzureAd__TenantId"})]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"CommonLibApi__BaseUrl"})," - The base url for the external API"]}),(0,n.jsxs)(i.p,{children:["* ",(0,n.jsx)(i.code,{children:"CommonLibApi__Scopes"})]})]}),"\n",(0,n.jsx)(i.h2,{id:"deploying-tyle",children:"Deploying Tyle"}),"\n",(0,n.jsx)(i.p,{children:"The current deployment method for Tyle is building Docker images of the backend and frontend and running these with app\nservices in Azure. There are Github actions in the repository for building these Docker images. The triggers for these\nactions are either pushing to the stage branch or creating a new release."}),"\n",(0,n.jsx)(i.h2,{id:"license",children:"License"}),"\n",(0,n.jsx)(i.p,{children:"MIT License"}),"\n",(0,n.jsx)(i.p,{children:"Copyright (c) 2022 mimir-org"}),"\n",(0,n.jsx)(i.p,{children:'Permission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the "Software"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:'}),"\n",(0,n.jsx)(i.p,{children:"The above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software."}),"\n",(0,n.jsx)(i.p,{children:'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.'})]})}function h(e={}){const{wrapper:i}={...(0,r.a)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},1961:(e,i,t)=>{t.d(i,{Z:()=>n});const n=t.p+"assets/images/tyleLogo-19f7586a9b2dda0a90c10286b3aaa62d.svg"},1151:(e,i,t)=>{t.d(i,{Z:()=>a,a:()=>o});var n=t(7294);const r={},s=n.createContext(r);function o(e){const i=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(s.Provider,{value:i},e.children)}}}]);