<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Tyle/current-state" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Current state of the code base | Mimir &amp; Tyle Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.mimir-org.github.io/documents/mimir/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://www.mimir-org.github.io/documents/mimir/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://www.mimir-org.github.io/documents/docs/Tyle/current-state"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Current state of the code base | Mimir &amp; Tyle Docs"><meta data-rh="true" name="description" content="Backend"><meta data-rh="true" property="og:description" content="Backend"><link data-rh="true" rel="icon" href="/documents/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.mimir-org.github.io/documents/docs/Tyle/current-state"><link data-rh="true" rel="alternate" href="https://www.mimir-org.github.io/documents/docs/Tyle/current-state" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.mimir-org.github.io/documents/docs/Tyle/current-state" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://JWGV6PUW59-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Mimir &amp; Tyle Docs" href="/documents/opensearch.xml"><link rel="stylesheet" href="/documents/assets/css/styles.97d9aeb6.css">
<script src="/documents/assets/js/runtime~main.64066818.js" defer="defer"></script>
<script src="/documents/assets/js/main.ea350de6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documents/"><div class="navbar__logo"><img src="/documents/img/mimirDarkLogo.png" alt="Mimir Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/documents/img/mimirLogo.png" alt="Mimir Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/documents/installation-guide">Installation Guide</a><a class="navbar__item navbar__link" href="/documents/docs/Mimir/intro">Mimir Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/documents/docs/Tyle/intro">Tyle Docs</a><a class="navbar__item navbar__link" href="/documents/docs/MimirUserDocs/intro">Mimir User Manual</a><a class="navbar__item navbar__link" href="/documents/docs/TyleUserDocs/intro">Tyle User Manual</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mimir-org/mimir" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documents/docs/Tyle/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/documents/docs/Tyle/current-state">Current state of the code base</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documents/docs/Tyle/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documents/docs/Tyle/contributing">How to contribute</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/documents/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Current state of the code base</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Current state of the code base</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="backend">Backend<a href="#backend" class="hash-link" aria-label="Direct link to Backend" title="Direct link to Backend">​</a></h2>
<p>The primary job for the Tyle backend is to serve as a CRUD-application for creating IMF types, as well as forwarding
approved types to an external type library. Tyle currently uses Common Library as its type library.</p>
<p><img loading="lazy" alt="backend diagram" src="/documents/assets/images/tyle-backend-diagram-5b11dd8bb225d9790ac740c281446c68.png" width="1500" height="1135" class="img_ev3q"></p>
<p>The diagram above shows the dependencies between the different projects in the backend. We will go through these
projects, outlining their role in the application as a whole, and commenting on work that remains to be done.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tylecore">Tyle.Core<a href="#tylecore" class="hash-link" aria-label="Direct link to Tyle.Core" title="Direct link to Tyle.Core">​</a></h3>
<p>Contains the core models and enums used to define the IMF types (attributes, terminals and blocks) and external
references (classifiers, media, predicates, purposes and units).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tyleapplication">Tyle.Application<a href="#tyleapplication" class="hash-link" aria-label="Direct link to Tyle.Application" title="Direct link to Tyle.Application">​</a></h3>
<p>Contains the request DTOs for creating and updating types and external references, as well as interfaces for the
repositories for types and external references. Also contains a service for the approval process of types, as well as
an interface for user information.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tyleconverters">Tyle.Converters<a href="#tyleconverters" class="hash-link" aria-label="Direct link to Tyle.Converters" title="Direct link to Tyle.Converters">​</a></h3>
<p>Contains the code used for exporting types from the domain models to the export format, JSON-LD. This project uses the
dotNetRdf package, which means adding new RDF export formats can be done very easily.</p>
<p>This project also contains all the IRIs used by the software. Some of these (for instance the symbol ontology IRIs) are
temporary, and when these change the application will fail.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tylepersistence">Tyle.Persistence<a href="#tylepersistence" class="hash-link" aria-label="Direct link to Tyle.Persistence" title="Direct link to Tyle.Persistence">​</a></h3>
<p>Contains the implementations of the repository interfaces. The data export to the type library is currently done by the
repositories, this should probably be moved to a separate project or service.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tyleexternal">Tyle.External<a href="#tyleexternal" class="hash-link" aria-label="Direct link to Tyle.External" title="Direct link to Tyle.External">​</a></h3>
<p>Contains the code used for fetching data from the external reference data library. The code as is is directly geared
towards using Common Library for this, and should probably be rewritten to be more general, so switching reference data
libraries can be more easily done.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mimirorgauthentication">Mimirorg.Authentication<a href="#mimirorgauthentication" class="hash-link" aria-label="Direct link to Mimirorg.Authentication" title="Direct link to Mimirorg.Authentication">​</a></h3>
<p>Contains the code used for authentication and authorization. Also contains code for sending e-mails. This code is
(mostly) disabled at the moment. E-mails notifying users of new users, request for types approval and so on should be
implemented. It should probably also be extracted to a separate project.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tyleapi">Tyle.Api<a href="#tyleapi" class="hash-link" aria-label="Direct link to Tyle.Api" title="Direct link to Tyle.Api">​</a></h3>
<p>Contains the startup code, controllers and views.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="frontend">Frontend<a href="#frontend" class="hash-link" aria-label="Direct link to Frontend" title="Direct link to Frontend">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="code-structure">Code structure<a href="#code-structure" class="hash-link" aria-label="Direct link to Code structure" title="Direct link to Code structure">​</a></h3>
<p>The <code>src</code> folder contains the following folders:</p>
<ul>
<li><code>api</code> - contains code for communicating with the backend</li>
<li><code>components</code> - contains the React components of the app</li>
<li><code>helpers</code> - contains helper code that is used by more than one component</li>
<li><code>hooks</code> - contains custom hooks that are used by more than one component</li>
<li><code>types</code> - contains TypeScript type definitions</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="unfinished-parts-of-the-application">Unfinished parts of the application<a href="#unfinished-parts-of-the-application" class="hash-link" aria-label="Direct link to Unfinished parts of the application" title="Direct link to Unfinished parts of the application">​</a></h3>
<p>Some tasks that have been started in the frontend code has not been finished. This is mainly due to a big revamp of the
IMF types following the release of v2.1 of the IMF manual in July 2023, which lead to a need to update many of the
frontend components.</p>
<ul>
<li>Attribute groups are not functional in this version of the client. The idea of attribute groups is to make it easier
to add attributes that are commonly applied together by bundling them in a group. A previous version of Tyle (v0.24)
has a working (although minimal) application of this concept.</li>
<li>Type previews, used in the About component on the right side of the home page, are either non-functional or not
changed according to the new data model.</li>
<li>The access page in the Settings menu is currently not functional. This page is intended as a way of notifying
administrators of new users that have not yet received a role granting them access to the application.</li>
<li>The approval page has the limitation that you will get an error message when trying to approve types referencing
non-approved types. The error message will not explain that this is the reason for the error. The approve button
should be disabled for these types, with a popup explaining the reason.</li>
<li>Phasing out the use of React Hook Form. Some forms in the solution still use this package, we recommend updating
these so that this package can be phased out.</li>
<li>There is some unused code as well as some code that is commented out in the frontend code base that should be
removed.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/mimir-org/documents/tree/main/docs/Tyle/current-state.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/documents/docs/Tyle/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/documents/docs/Tyle/faq"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">FAQ</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#backend" class="table-of-contents__link toc-highlight">Backend</a><ul><li><a href="#tylecore" class="table-of-contents__link toc-highlight">Tyle.Core</a></li><li><a href="#tyleapplication" class="table-of-contents__link toc-highlight">Tyle.Application</a></li><li><a href="#tyleconverters" class="table-of-contents__link toc-highlight">Tyle.Converters</a></li><li><a href="#tylepersistence" class="table-of-contents__link toc-highlight">Tyle.Persistence</a></li><li><a href="#tyleexternal" class="table-of-contents__link toc-highlight">Tyle.External</a></li><li><a href="#mimirorgauthentication" class="table-of-contents__link toc-highlight">Mimirorg.Authentication</a></li><li><a href="#tyleapi" class="table-of-contents__link toc-highlight">Tyle.Api</a></li></ul></li><li><a href="#frontend" class="table-of-contents__link toc-highlight">Frontend</a><ul><li><a href="#code-structure" class="table-of-contents__link toc-highlight">Code structure</a></li><li><a href="#unfinished-parts-of-the-application" class="table-of-contents__link toc-highlight">Unfinished parts of the application</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Mimir Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/documents/docs/Mimir/intro">Mimir Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/documents/docs/Tyle/intro">Tyle Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/documents/docs/MimirUserDocs/intro">Mimir User Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/documents/docs/TyleUserDocs/intro">Tyle User Documentation</a></li></ul></div></div></div></footer></div>
</body>
</html>